<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="../css/reviewlist.css" />
<!-- Slick 슬라이더 사용을 위한 추가 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="../css/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="../css/slick/slick-theme.css"/>
<script src="../js/slick.js"></script>
<title>리뷰</title>
</head>

<body>
<div class="thumbnails">					
<th:block th:each="ReviewData : ${Review}">

	<div class="box">
		  
		<!--span th:text="'_id : ' + ${ReviewData._id}"></span-->
		<button th:target="_blank"
		  th:data-url="@{'/review/reviewDetail/'+${ReviewData._id}}"
		  onclick="openWin(this.getAttribute('data-url'))">click here:)
		</button><br/>
		
		<div class = "image fit">
		<th:block th:each="ReviewImg : ${ReviewData.tplList}" th:if="${ReviewImgStat.index} == 0">
			<img class="ReviewImg" th:src="@{'http://localhost:9091'+${ReviewImg}}" alt="Img" /><br/>
		</th:block>
		</div>
		
		<div class="inner">
			<span th:text="'reviewer_id : ' + ${ReviewData.reviewer_id}"></span><br/>
			<!--span th:text="'reviewCl : ' + ${ReviewData.reviewCl}"></span><br/-->
			<span th:text="'prdSeq : ' + ${ReviewData.prdSeq}"></span><br/>
			<!--span th:text="'bestFl : ' + ${ReviewData.bestFl}"></span><br/-->
			<span th:text="'evalScore : ' + ${ReviewData.evalScore}"></span><br/>
			<span th:text="'hit : ' + ${ReviewData.hit}"></span><br/>
			<span th:text="'recomCnt : ' + ${ReviewData.recomCnt}"></span><br/>
			<!--span th:text="'recbScore : ' + ${ReviewData.recbScore}"></span><br/-->
			
			<div th:with="max_length=50">
			<p th:if="${#strings.length(ReviewData.goodCnts)} gt ${max_length}" th:text="'goodCnts : ' + ${#strings.substring(ReviewData.goodCnts,0,max_length) + '…'}"></p>
			<p th:unless="${#strings.length(ReviewData.goodCnts)} gt ${max_length}" th:text="'goodCnts : ' + ${ReviewData.goodCnts}"></p>
			</div>		
			
			<span th:text="'regDate : ' + ${ReviewData.regDate}"></span><br/>
			<!--span th:text="'updDate : ' + ${ReviewData.updDate}"></span><br/><br/-->
		</div>
	</div>
</th:block>
</div>

	<script type="text/javascript">
	
		$(document).ready(function () {
			$('.thumbnails').slick({
				  infinite: true,
				  slidesToShow: 3,
				  slidesToScroll: 3,
				  speed: 100,
				  autoplay:true,
				  arrows:true,
				  dots:true,
				  //centerMode: true

				});
		});


		function openWin(url){
			ReviewDetailView = window.open("about:blank", "ReviewDetail", "width=550,height=600,left=400,top=50,dependent=yes,menubar=no,status=no,resizable=yes,toolbar=no,scrollbars=yes");
			ReviewDetailView.location.href = url;
			ReviewDetailView.focus();
		    return false;	
		}
		
		
	
    </script>
</body>
</html>