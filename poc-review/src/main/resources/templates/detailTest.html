<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<title>Review Detail</title>
</head>
<body>
<h1>	
	<th:block th:each="ProductData : ${Product}">
    <span th:text="${ProductData.prdNm}"></span>
	</th:block>
</h1>
	<hr>
	<span th:text="'작성일 : ' + ${ReviewData.regDate}"></span><br/>
	<span th:text="'조회수 : ' + ${ReviewData.hit}"></span><br/>
	<span th:text="'별점 : ' + ${ReviewData.evalScore}"></span>
	<hr>
	<img class="profileImg" th:src="@{'http://localhost:9091'+${ReviewerData.profileImg}}" alt="Img" height="10%" width="10%" />
	<span th:text="'lvl.' + ${ReviewerData.lvl}"></span><br/>
	<span th:text="'작성자 : ' + ${ReviewData.reviewer_id}"></span>
	(<span th:text="${ReviewerData.nickNm}"></span>)<br/><br/>

	<!-- 리뷰 이미지 슬라이드 -->
	<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	  	  <!-- 슬라이드 콘텐츠 -->
 		  <div class="carousel-inner" style="width: auto; height: 300px; overflow: hidden">
 		  	<th:block th:each="ReviewImg : ${ReviewData.tplList}">
			  	<th:block th:if="${ReviewImgStat.index} == 0">
				    <div class="carousel-item active">
				      <img th:src="@{'http://localhost:9091'+${ReviewImg}}" class="d-block w-100" alt="Img"
				      style="width: auto; height: 300px;">
				    </div>
			    </th:block>
 			    <th:block th:unless="${ReviewImgStat.index} == 0">
				    <div class="carousel-item">
				      <img class="d-block w-100" th:src="@{'http://localhost:9091'+${ReviewImg}}" alt="Img"
				      style="width: auto; height: 300px;">
				    </div>
				</th:block> 
			</th:block>
		  </div>
		  <!-- 슬라이드 화살표, 이미지가 2개 이상일 때만 노출  -->	
		  <div class = "carousel-control" >
			  <th:block th:each="ReviewImg :  ${ReviewData.tplList} " >
				  <th:block th:if="${ReviewImgStat.count} >= 2">
					<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
					    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
					    <span class="sr-only">Previous</span>
				  	</a>
				  	<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
					    <span class="carousel-control-next-icon" aria-hidden="true"></span>
					    <span class="sr-only">Next</span>
				 	 </a>
				  </th:block>
			  </th:block>
		  </div>
	</div>

	<!-- 리뷰 내용 -->
	<h3>GOOD</h3>
	<span th:text="${ReviewData.goodCnts}"></span><br/>
	<hr>
	<h3>ETC</h3>
	<span th:text="${ReviewData.etcCnts}"></span><br/>
	<hr>
	<span th:text="'recomCnt : ' + ${ReviewData.recomCnt}"></span><br/>
	<span th:text="'recbScore : ' + ${ReviewData.recbScore}"></span><br/>
	<hr>
	
	<!-- 리뷰 댓글 -->
	<h3>Comments</h3>
	<div class="comment">
            <div class="input-group">
               <input type="text" class="form-control" id="content" name="content" placeholder="내용을 입력하세요.">
               <span class="input-group-btn">
               		<button class="btn btn-success" type="button" name="commentInsertBtn">등록</button>
               </span>
              </div>
	<th:block th:each="Comment : ${CommentData}">
	 	<!-- 코멘트 단 유저 정보 출력을 위하여 추가 -->
	 	<img class="profileImg" th:src="@{'http://localhost:9091'+${Comment.reviewer.profileImg}}" alt="Img" height="10%" width="10%" />
		<span th:text="'lvl.' + ${Comment.reviewer.lvl}"></span><br/>
		<span th:text="${Comment.reviewer.nickNm}"></span><br/>
		<span th:text="'cnts : ' + ${Comment.cnts}"></span><br/>
		<span th:text="'regDate : ' + ${Comment.regDate}"></span><br/>
	</th:block>
	</div>
	
	<hr>
	<!-- 리뷰 상품 정보 -->
	<h3>Product</h3>
	<div class ="reviewPrd">
	<th:block th:each = "ProductData : ${Product}">
    <span th:text="'prdSeq: ' + ${ProductData.prdSeq}"></span><br/>
    <span th:text="'prdNm: ' + ${ProductData.prdNm}"></span><br/>
    <span th:text="'salPrc: ' + ${ProductData.salPrc}"></span>원<br/>
	</th:block>
	</div>



<th:block>
	<script type="text/javascript">
    </script>
</th:block>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>
</html>